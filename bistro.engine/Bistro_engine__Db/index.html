<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Bistro_engine__Db (bistro.engine.Bistro_engine__Db)</title><link rel="stylesheet" href="../../odoc.css"/><meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><meta name="generator" content="doc-ock-html v1.0.0-1-g1fc9bf0"/></head><body><nav id="top"><a href="../index.html">Up</a> &mdash; <span class="package">package <a href="../index.html">bistro.engine</a></span></nav><header><h1><span class="keyword">Module</span> <span class="module-path">Bistro_engine__Db</span></h1></header><p>A database to cache workflow result and execution traces</p><p>It is implemented as a directory in the file system.</p><div class="spec type" id="type-result"><a href="#type-result" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>'a result</code><code><span class="keyword"> = </span>(<span class="type-var">'a</span>, [ `Msg of string ]) Pervasives.result</code><code></code></div><div class="doc"></div></div><div class="spec type" id="type-t"><a href="#type-t" class="anchor"></a><div class="def type"><code><span class="keyword">type </span>t</code><code></code><code></code></div><div class="doc"><p>An abstract type for databases</p></div></div><div class="spec val" id="val-init"><a href="#val-init" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>init : string <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a> <a href="index.html#type-result">result</a></code></div><div class="doc"><p><code class="code">init path</code> creates a database located at path <code class="code">path</code>, which can
be absolute or relative. If the path already exists, its contents
is inspected to see if it looks like a bistro database; if not, a
fresh database is created on the filesystem.</p><p>Returns an error message if <code class="code">path</code> is occupied with something else
than a bistro database.</p></div></div><div class="spec val" id="val-init_exn"><a href="#val-init_exn" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>init_exn : string <span class="keyword">&#8209;&gt;</span> <a href="index.html#type-t">t</a></code></div><div class="doc"><ul class="at-tag"><li><span class="at-tag raise">Raises</span> <span class="module-path">Failure</span>: </li></ul></div></div><div class="spec val" id="val-tmp_dir"><a href="#val-tmp_dir" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>tmp_dir : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> string</code></div><div class="doc"></div></div><div class="spec val" id="val-cache_dir"><a href="#val-cache_dir" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>cache_dir : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> string</code></div><div class="doc"></div></div><div class="spec val" id="val-stdout_dir"><a href="#val-stdout_dir" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>stdout_dir : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> string</code></div><div class="doc"></div></div><div class="spec val" id="val-stderr_dir"><a href="#val-stderr_dir" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>stderr_dir : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> string</code></div><div class="doc"></div></div><div class="spec val" id="val-build_dir"><a href="#val-build_dir" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>build_dir : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> string</code></div><div class="doc"></div></div><div class="spec val" id="val-tmp"><a href="#val-tmp" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>tmp : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> string <span class="keyword">&#8209;&gt;</span> string</code></div><div class="doc"></div></div><div class="spec val" id="val-cache"><a href="#val-cache" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>cache : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> string <span class="keyword">&#8209;&gt;</span> string</code></div><div class="doc"></div></div><div class="spec val" id="val-stdout"><a href="#val-stdout" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>stdout : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> string <span class="keyword">&#8209;&gt;</span> string</code></div><div class="doc"></div></div><div class="spec val" id="val-stderr"><a href="#val-stderr" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>stderr : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> string <span class="keyword">&#8209;&gt;</span> string</code></div><div class="doc"></div></div><div class="spec val" id="val-build"><a href="#val-build" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>build : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> string <span class="keyword">&#8209;&gt;</span> string</code></div><div class="doc"></div></div><div class="spec val" id="val-workflow_path"><a href="#val-workflow_path" class="anchor"></a><div class="def val"><code><span class="keyword">val </span>workflow_path : <a href="index.html#type-t">t</a> <span class="keyword">&#8209;&gt;</span> <span class="type-var">_</span> <a href="../../bistro/Bistro/Workflow/index.html#type-t">Bistro.Workflow.t</a> <span class="keyword">&#8209;&gt;</span> string</code></div><div class="doc"></div></div></body></html>