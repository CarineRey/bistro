OASISFormat: 0.3
Name:        bistro
Version:     0.1
Synopsis:    A tiny library to build and execute (typed) workflows of shell
  calls
Authors:     Philippe Veber
License:     GPL-3.0
Plugins:     META (0.3), DevFiles (0.3)
BuildTools: ocamlbuild

Library bistro
  Path:          src/lib
  Modules:       Bistro_db, Bistro_export,
                 Bistro_logger, Bistro_repo,
                 Bistro_sequential, Bistro_types,
                 Bistro_workflow
  BuildDepends:  core, react, shell, threads
  FindlibName:   bistro

Library bistro_lwt
  Path:          src/lib
  Modules:       Bistro_concurrent, Bistro_pool
  BuildDepends:  lwt, lwt.react, lwt.syntax, bistro
  FindlibName:   lwt
  FindlibParent: bistro

Library bistro_syntax
  FindlibName:      syntax
  FindlibParent:    bistro
  Path:             src/syntax
  Modules:          Pa_bistro_script, Bistro_script_ast, Bistro_script_lexer, Bistro_script_parser
  BuildDepends:     camlp4.lib, camlp4.quotations.r
  Buildtools:       menhir
  XMETAType:        syntax
  XMETADescription: Syntactic sugar for sh scripts
  XMETARequires:    camlp4, camlp4.quotations.r

Flag examples
  Description:      Build examples?
  Default:          false

Executable base_test
  Path:          src/examples
  Build$:        flag(examples)
  MainIs:        base_test.ml
  BuildDepends:  bistro

Executable dft
  Path:          src/examples
  Build$:        flag(examples)
  MainIs:        dft.ml
  BuildDepends:  bistro

Executable dft_lwt
  Path:          src/examples
  Build$:        flag(examples)
  MainIs:        dft_lwt.ml
  BuildDepends:  bistro.lwt,core,lwt.react,lwt.unix,threads

Executable nlp_test
  Path:          src/examples
  Build$:        flag(examples)
  MainIs:        nlp_test.ml
  BuildDepends:  bistro.lwt,bistro.syntax,core,lwt.react,lwt.unix,threads
